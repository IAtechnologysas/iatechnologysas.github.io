<!DOCTYPE html>
<html lang="es">
<head>
  <link rel="icon" type="image/png" href="logo.jpg">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calculadora Fotovoltaica - IA Technology</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-gray-800 font-sans">

<header class="bg-black text-white py-6 text-center">
  <img src="logo.jpg" alt="IA Technology Logo" class="mx-auto mb-2 w-32 h-auto">
  <h1 class="text-3xl font-bold">Calculadora Fotovoltaica</h1>
  <a href="index.html" class="text-blue-200 underline text-sm">Volver al inicio</a>
</header>

<!-- Contenido calculadora -->
<section id="calculadora" class="py-12 px-4 max-w-4xl mx-auto">
  <h2 class="text-2xl font-bold mb-6">Ingresa los datos de tu sistema</h2>

  <form id="calcForm" class="grid md:grid-cols-2 gap-6" onsubmit="return false;">
    <div>
      <label class="block mb-1 font-medium">Consumo diario promedio (Wh)</label>
      <input type="number" id="consumo" class="w-full border p-2 rounded" value="4030">
    </div>
    <div>
      <label class="block mb-1 font-medium">Horas de sol (mínimas)</label>
      <input type="number" id="horasSol" step="0.01" class="w-full border p-2 rounded" value="3.46">
    </div>
    <div>
      <label class="block mb-1 font-medium">Potencia panel (Wp)</label>
      <input type="number" id="potenciaPanel" class="w-full border p-2 rounded" value="620">
    </div>
    <div>
      <label class="block mb-1 font-medium">Voltaje sistema (V)</label>
      <select id="voltajeSistema" class="w-full border p-2 rounded">
        <option value="12">12 V</option>
        <option value="24">24 V</option>
        <option value="48" selected>48 V</option>
      </select>
    </div>
    <div class="md:col-span-2">
      <button type="button" onclick="calcular()"
        class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">Calcular</button>
    </div>
  </form>

  <div id="resultados" class="mt-10 hidden">
    <h3 class="text-xl font-bold mb-4">Resultados</h3>
    <table class="w-full border text-sm">
      <tbody>
        <tr><td class="border px-2 py-1">Producción necesaria (Wh)</td><td class="border px-2 py-1" id="prodNecesaria"></td></tr>
        <tr><td class="border px-2 py-1">Potencia pico requerida (W)</td><td class="border px-2 py-1" id="potenciaPico"></td></tr>
        <tr><td class="border px-2 py-1">Cantidad de paneles</td><td class="border px-2 py-1" id="paneles"></td></tr>
        <tr><td class="border px-2 py-1">Capacidad banco de baterías (Ah)</td><td class="border px-2 py-1" id="bateriasAh"></td></tr>
        <tr><td class="border px-2 py-1">Cantidad de baterías (12V)</td><td class="border px-2 py-1" id="bateriasCant"></td></tr>
        <tr><td class="border px-2 py-1">Potencia recomendada de inversor (W)</td><td class="border px-2 py-1" id="inversor"></td></tr>
      </tbody>
    </table>
  </div>
</section>

<!-- Botón Menú -->
<button id="menuBtn"
  class="fixed top-4 left-4 z-50 bg-gray-800 text-white px-4 py-2 rounded shadow hover:bg-gray-700 transition">
  Menú
</button>

<!-- Menú lateral -->
<aside id="sideMenu"
  class="fixed top-10 left-0 h-full w-64 bg-white shadow-lg border-r z-40 transform -translate-x-full transition-transform duration-300">
  <div class="p-4 border-b text-lg font-bold text-gray-700">
    Categorías
    <button id="closeMenu" class="float-right text-gray-500 hover:text-red-600">&times;</button>
  </div>
  <div class="p-4">
    <input type="text" placeholder="Buscar productos"
      class="w-full px-3 py-2 mb-4 text-sm border rounded focus:outline-none focus:ring focus:ring-blue-300" />
    <ul class="space-y-3 font-medium text-gray-800">
      <li><a href="dvr.html" class="hover:text-blue-700">DVR</a></li>
      <li><a href="camaras-ip.html" class="hover:text-blue-700">Cámaras</a></li>
      <li><a href="ups.html" class="hover:text-blue-700">UPS</a></li>
      <li><a href="teclados-mouses.html" class="hover:text-blue-700">Teclados y Mouses</a></li>
      <li><a href="audifonos.html" class="hover:text-blue-700">Audífonos</a></li>
      <li><a href="otros.html" class="hover:text-blue-700">Otros Servicios</a></li>
      <li><a href="panel.html" class="text-blue-800 font-semibold">⚡ Calculadora Solar</a></li>
    </ul>
  </div>
</aside>

<!-- WhatsApp flotante -->
<a href="https://wa.me/573124422064" 
   class="fixed bottom-6 right-6 z-50 bg-green-500 rounded-full p-3 shadow-lg hover:bg-green-600 transition"
   target="_blank" aria-label="Chatea por WhatsApp">
  <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" class="w-8 h-8">
</a>

<!-- Popup WhatsApp -->
<div id="wa-popup" class="fixed bottom-24 right-6 bg-white rounded-lg shadow-lg p-4 w-72 z-40 text-sm text-gray-800 animate-fade-in">
  <div class="flex justify-between items-start">
    <div class="flex items-start gap-2">
      <img src="logo.jpg" alt="Logo IA Technology" class="w-10 h-10 object-contain">
      <div>
        <p class="font-bold">Asesor de IA Technology</p>
        <p class="text-xs text-gray-500">Disponible</p>
      </div>
    </div>
    <button onclick="document.getElementById('wa-popup').style.display='none';"
      class="text-gray-400 hover:text-gray-600 text-xl font-bold">&times;</button>
  </div>
  <div class="mt-2">Hola, un gusto atenderte.</div>
</div>

<footer class="bg-[#00324D] text-white py-6 text-center text-sm">
  <p>&copy; 2025 IA Technology S.A.S</p>
</footer>

<!-- Scripts -->
<script>
function calcular() {
  const consumo = parseFloat(document.getElementById("consumo").value) || 0;
  const horasSol = parseFloat(document.getElementById("horasSol").value) || 1;
  const potenciaPanel = parseFloat(document.getElementById("potenciaPanel").value) || 1;
  const voltajeSistema = parseFloat(document.getElementById("voltajeSistema").value) || 12;

  const produccionNecesaria = consumo * 1.3;
  const potenciaPico = produccionNecesaria / horasSol;
  const cantidadPaneles = Math.ceil(potenciaPico / potenciaPanel);
  const bateriasAh = (consumo / voltajeSistema) * 2;
  const bateriasCant = voltajeSistema / 12;
  const inversor = potenciaPico * 3;

  document.getElementById("prodNecesaria").innerText = produccionNecesaria.toFixed(0) + " Wh";
  document.getElementById("potenciaPico").innerText = potenciaPico.toFixed(1) + " W";
  document.getElementById("paneles").innerText = cantidadPaneles + " panel(es)";
  document.getElementById("bateriasAh").innerText = bateriasAh.toFixed(0) + " Ah";
  document.getElementById("bateriasCant").innerText = bateriasCant + " baterías";
  document.getElementById("inversor").innerText = inversor.toFixed(0) + " W";

  document.getElementById("resultados").classList.remove("hidden");
}

// Menú lateral
const menuBtn = document.getElementById("menuBtn");
const sideMenu = document.getElementById("sideMenu");
const closeMenu = document.getElementById("closeMenu");

menuBtn.addEventListener("click", () => {
  sideMenu.classList.remove("-translate-x-full");
});
closeMenu.addEventListener("click", () => {
  sideMenu.classList.add("-translate-x-full");
});

// Popup WhatsApp auto-cierre
setTimeout(() => {
  const popup = document.getElementById('wa-popup');
  if (popup) popup.style.display = 'none';
}, 50000);
</script>

<!-- Animación -->
<style>
@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in {
  animation: fade-in 0.5s ease-out;
}
</style>

</body>
</html>
